<% breadcrumb :courses, @category %>
<% @title = 'Browse Available Courses' %>

<div class="col-md-3">
  <div class="row">
    <%= render partial: 'shared/course_search' %>

    <h4>Course Categories</h4>

    <div class="list-group small">
      <% active = 'active' if @category.nil? && @search_term.nil? %>
      <%= link_to 'All Courses', courses_path, class: "list-group-item #{active}" %>
      <% @categories.each do |category| %>
        <% active = category == @category ? 'active' : '' %>
        <%= link_to category.name, courses_category_path(category), class: "list-group-item #{active}" %>
      <% end %>
    </div>
  </div>
</div>

<div class="col-md-9">
  <% if @courses.empty? %>
      <p class="text-center text-warning"><em>There are no courses to display.</em></p>
  <% else %>
    <div class="list-group">
      <% @courses.each do |course| %>
        <a href="<%= url_for(course) %>" class="list-group-item list-group-item-action flex-column align-items-start">
          <div class="row">
            <div class="col-md-2 text-right">
              <%= image_tag course.image, class: 'img-responsive course-image' %>
            </div>

            <div class="col-md-10">
              <div class="row">
                <div class="col-md-12">
                  <div class="h3 course-title"><%= course.title %></div>
                </div>
              </div>

              <div class="row small">
                <div class="col-md-12">
                  <%= course.category.name %>
                  &mdash;
                  <%= course.college.name %>
                </div>
              </div>
            </div>
          </div>
        </a>
      <% end %>
    </div>
  <% end %>

  <div class="digg_pagination text-center">
    <%= will_paginate @courses %>
  </div>
</div>